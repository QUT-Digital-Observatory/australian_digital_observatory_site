{% extends "layout.html" %}
{% block title %}{{ this.title }}{% endblock %}
{% block body %}
  <h2>{{ this.title }}</h2>
    {% if this.show_toc %}
      <h4>Contents:</h4>
      <ul class="toc">
      {% for item in this.body.toc recursive %}
        <li><a href="#{{ item.anchor }}">{{ item.title }}</a>{%
         if item.children %}<ul>{{ loop(item.children) }}</ul>{% endif %}</li>
      {% endfor %}
      </ul>
    {% endif %}
  {{ this.body }}
{% endblock %}
